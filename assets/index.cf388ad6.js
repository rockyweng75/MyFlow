import{_ as g,u as b,f as w,g as C,L as D,h as T,r as p,o as u,j as f,w as s,l as c,a as o,d,t as i,B as x}from"./index.a74f1f35.js";const N=e=>e/60/24>0?Math.floor(e/60/24)+"\u5929"+Math.floor(e%(60*24)/60)+"\u5C0F\u6642":e/60>0?Math.floor(e/60)+"\u5C0F\u6642":e+"\u5206\u9418",S=e=>{var r=Math.floor(e/60/24);if(r>2)return"info";if(r<=2&&r>0)return"warning";if(r<=0)return"danger"};const v={props:{applyid:{type:[String,Number]},apprid:{type:[String,Number]},hidden:{type:[String,Number]},disabled:{type:Boolean}},setup(e){const r=b(),l=w({}),n=C(()=>r.getters["process/processHistorys"]),_=D({});return T(()=>{r.dispatch("process/loadProcessHistory",e.applyid)}),{state:_,refForm:l,historyList:n,getTimeDesc:N,determineType:S}}},B=d("strong",null,"\u610F\u898B\u8AAA\u660E",-1),k=d("strong",{style:{"padding-left":"10px"}},":",-1),H={style:{"padding-left":"20px"}};function V(e,r,l,n,_,L){const a=p("el-table-column"),m=p("el-tag"),y=p("el-table"),h=p("el-card");return u(),f(h,null,{header:s(()=>[c(" \u7C3D\u8FA6\u6B77\u7A0B ")]),default:s(()=>[o(y,{class:"approveHistoryTb",data:n.historyList.filter(t=>!l.hidden||t.ApprId!=l.hidden),ref:"singleTable","header-row-class-name":"el-custom-header",border:"","default-expand-all":!0,"empty-text":"\u67E5\u7121\u8CC7\u6599","highlight-current-row":"",style:{width:"100%"}},{default:s(()=>[o(a,{type:"expand"},{default:s(t=>[d("p",null,[B,k,d("span",H,i(t.row.ApproveMessage),1)])]),_:1}),o(a,{prop:"UserName",label:"\u8655\u7406\u4EBA"}),o(a,{prop:"DeptName",label:"\u8655\u7406\u55AE\u4F4D"}),o(a,{prop:"JobTitle",label:"\u8077\u7A31"}),o(a,{prop:"StageName",label:"\u8655\u7406\u968E\u6BB5"}),o(a,{prop:"StatusDesc",label:"\u8655\u7406\u52D5\u4F5C"}),o(a,{prop:"CountDownToClose",label:"\u8868\u55AE\u95DC\u9589\u5012\u6578"},{default:s(t=>[t.row.CountDownToClose!=null&&t.row.CountDownToClose>0?(u(),f(m,{key:0,type:n.determineType(t.row.CountDownToClose),effect:"dark"},{default:s(()=>[c(i(n.getTimeDesc(t.row.CountDownToClose)),1)]),_:2},1032,["type"])):x("",!0)]),_:1}),o(a,{prop:"SubmitDate",label:"\u8655\u7406\u65E5\u671F"},{default:s(t=>[c(i(e.$filters.formatDate(t.row.SubmitDate)),1)]),_:1})]),_:1},8,["data"])]),_:1})}const P=g(v,[["render",V]]);export{P as default};
