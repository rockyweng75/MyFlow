import{A as F}from"./index.d95f35f4.js";import{_ as h,U as w,e as b,g as k,u as g,h as x,r as l,o as C,j as v,w as n,E as s,a as m,l as _}from"./index.a74f1f35.js";import"./index.29a6cf0d.js";const y={components:{ApplyForm:F},setup(){const u=w(),p=b(),c=k(()=>u.params.id),o=g(),f=(t,r)=>{r.FlowId=c.value,r.OrderId=1,t.validate(a=>{if(a)o.dispatch("process/submit",r).then(e=>{e.Success?(s.success("\u9001\u51FA\u6210\u529F"),p.push("/workboard/waitList")):e.Msgs?e.Msgs.forEach(i=>{setTimeout(()=>{s.error(i)},100)}):s.error(e.Msg)}).catch(e=>{s.error("\u8868\u55AE\u8A2D\u5B9A\u7570\u5E38\uFF0C\u8ACB\u806F\u7D61\u76F8\u95DC\u4EBA\u54E1")});else return console.log("error submit!!"),s.error("\u8ACB\u88DC\u586B\u5FC5\u586B\u6B04\u4F4D"),!1})},d=t=>{t.resetFields()};return x(()=>{o.dispatch("process/initFormData")}),{flowid:c,submitForm:f,resetForm:d}}};function M(u,p,c,o,f,d){const t=l("el-button"),r=l("el-form-item"),a=l("ApplyForm");return C(),v(a,{flowid:o.flowid},{button:n(e=>[m(r,null,{default:n(()=>[m(t,{type:"primary",onClick:i=>o.submitForm(e.form,e.data)},{default:n(()=>[_("\u9001\u51FA")]),_:2},1032,["onClick"]),m(t,{onClick:i=>o.resetForm(e.form)},{default:n(()=>[_("\u6E05\u7A7A")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["flowid"])}const $=h(y,[["render",M]]);export{$ as default};
